<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cygnus Reach Embedded Stack: cr_weak.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cygnus Reach Embedded Stack
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('cr__weak_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cr_weak.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The Reach stack relies on these callback functions being implemented by the device. The gcc supported "weak" keyword allows us to build without having real implementations..  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;cr_stack.h&quot;</code><br />
<code>#include &quot;<a class="el" href="i3__log_8h_source.html">i3_log.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb0fee7e25692380f5346f304f4b6e5a" id="r_aeb0fee7e25692380f5346f304f4b6e5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb0fee7e25692380f5346f304f4b6e5a">__attribute__</a> ((weak))</td></tr>
<tr class="memdesc:aeb0fee7e25692380f5346f304f4b6e5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">crcb_get_coded_prompt  <br /></td></tr>
<tr class="separator:aeb0fee7e25692380f5346f304f4b6e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Reach stack relies on these callback functions being implemented by the device. The gcc supported "weak" keyword allows us to build without having real implementations.. </p>
<dl class="section author"><dt>Author</dt><dd>Chuck Peplinski </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-01-17 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) Copyright 2023 i3 Product Development. All Rights Reserved. The Cygngus Reach firmware stack is shared under an MIT license. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aeb0fee7e25692380f5346f304f4b6e5a" name="aeb0fee7e25692380f5346f304f4b6e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0fee7e25692380f5346f304f4b6e5a">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(weak)</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>crcb_get_coded_prompt </p>
<p>crcb_ping_get_signal_strength</p>
<p>crcb_device_get_info</p>
<p>crcb_notify_error</p>
<p>crcb_send_coded_response</p>
<p>The cr_process function calls this function to get any available prompt in coded format. An overriding implementation is responsible to copy the data into the provided buffer and set the size. Alternatively, <a class="el" href="cr__stack_8c.html#af1732a5d9ee5f83c4360448ae4452b34" title="cr_set_advertised_name">cr_store_coded_prompt()</a> can be used to push data into the stack. Then this weak implementation can remain, as the data is already where it belongs. </p><dl class="section note"><dt>Note</dt><dd>crcb_get_coded_prompt() must not block as that would disable any notifications. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt</td><td>Pointer to raw data (output) </td></tr>
    <tr><td class="paramname">len</td><td>Pointer to the number of bytes in the supplied prompt (output) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cr_ErrorCodes_NO_ERROR on success. cr_ErrorCodes_NO_DATA if no data is available.</dd></dl>
<p>The cr_process function calls this function to send responses to the client. </p><dl class="section note"><dt>Note</dt><dd>Must be overridden to send the data to the client. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>Pointer to coded data to be send (input) </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to be sent (input) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cr_ErrorCodes_NO_ERROR on success or a non-zero error preferably from the cr_ErrorCodes_ enumeration</dd></dl>
<p>Called by cr_report_error(). Can be called at any point. </p><dl class="section note"><dt>Note</dt><dd>The device must override this implementation to send error messages to the client. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>Pointer to a structure with a code and a string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cr_ErrorCodes_NO_ERROR on success or a non-zero error preferably from the cr_ErrorCodes_ enumeration</dd></dl>
<p>Called by the stack in response to a device info request. </p><dl class="section note"><dt>Note</dt><dd>The device must override the weak implementation to provide a valid device info structure to the stack. Response message members like hash and services are computed by the reach stack. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDi</td><td>A pointer to memory provided by the stack to be populated with the basic device information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cr_ErrorCodes_NO_ERROR on success or a non-zero error preferably from the cr_ErrorCodes_ enumeration</dd></dl>
<p>Called by the stack in response to a ping request. </p><dl class="section note"><dt>Note</dt><dd>The device can override the weak implementation to provide an <br  />
 estimate of the signal strength. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rssi</td><td>A pointer to be populated with a signal strength typically negative in dB. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cr_ErrorCodes_NO_ERROR on success or a non-zero error preferably from the cr_ErrorCodes_ enumeration </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="cr__weak_8c.html">cr_weak.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
